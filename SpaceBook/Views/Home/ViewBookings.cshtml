@model IEnumerable<SpaceBook.Models.Booking>

@{
    ViewBag.Title = "ViewBookings";
}

<h2>Your Bookings</h2>

<p>
    Show: <a href="@Url.Action("ViewBookings")">All</a> | <a href="@Url.Action("FilterBookings", "Home", new { greaterOrLess = ">"})">Active</a> | <a href="@Url.Action("FilterBookings", "Home", new {greaterOrLess = "<"})">Completed</a>
</p>
@foreach (var item in Model) {
<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <div class="col-md-3" style="float:left">
                    <img class="card-img-top" src="\Content\Images\MosaicStadium.jpg" alt="Card image cap" style="height:100%; width:100%">
                </div>
                <h5 class="card-title">@item.Facility.Name</h5>
                <p class="card-text">@item.StartDateTime.Value.ToString("dddd, dd MMMM yyyy hh:mm tt")</p>
                <div class="card-footer" style="float:right">
                    <small class="text-muted">@item.StartDateTime.Value.ToShortTimeString() - @item.EndDateTime.Value.ToShortTimeString()</small>
                    <br />
                    <small class="text-muted">$@Math.Round(item.Cost.Value, 2)</small>
                    <br />
                    <button type="button" onclick="location.href='@Url.Action("LeaveReview", new { Id = item.Id })'" class="btn btn-primary">Leave Review</button>
                </div>
            </div>
        </div>
    </div>
</div>
<hr />
}


@*<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.StartDateTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EndDateTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cost)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Notes)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cancelled)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Facility.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.User.Email)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    if (item.StartDateTime < item.EndDateTime) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.StartDateTime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EndDateTime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cost)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Notes)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cancelled)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Facility.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.User.Email)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
            @Html.ActionLink("Details", "Details", new { id = item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.Id })
        </td>
    </tr>
        }
    }

</table>*@
